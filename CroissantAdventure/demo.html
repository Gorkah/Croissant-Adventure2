<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Modo Demo - Croissant Adventure</title>
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;600;800&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary-color: #ff9900;
      --secondary-color: #ffd166;
      --accent-color: #ef476f;
      --background-color: #fffaf0;
      --success-color: #06d6a0;
      --text-color: #5c4a38;
      --shadow-color: rgba(0, 0, 0, 0.2);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Baloo 2', cursive;
      background-color: var(--background-color);
      color: var(--text-color);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    .header {
      background-color: var(--primary-color);
      color: white;
      padding: 10px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 2px 5px var(--shadow-color);
    }

    .logo-container {
      display: flex;
      align-items: center;
    }

    .logo-img {
      width: 35px;
      height: 35px;
      background: url('croiso.png') center/contain no-repeat;
      margin-right: 10px;
    }

    .logo-text {
      font-size: 1.5rem;
      font-weight: bold;
    }

    .demo-container {
      flex: 1;
      display: flex;
      flex-direction: column;
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      position: relative;
    }

    .demo-header {
      text-align: center;
      margin-bottom: 30px;
    }

    .demo-header h1 {
      font-size: 2.5rem;
      color: var(--primary-color);
      margin-bottom: 10px;
    }

    .demo-header p {
      font-size: 1.2rem;
      max-width: 800px;
      margin: 0 auto;
    }

    .demo-navigation {
      display: flex;
      justify-content: center;
      margin-bottom: 20px;
    }

    .nav-dot {
      width: 12px;
      height: 12px;
      background-color: var(--secondary-color);
      border-radius: 50%;
      margin: 0 5px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .nav-dot.active {
      background-color: var(--primary-color);
      transform: scale(1.2);
    }

    .demo-slide {
      display: none;
      flex-direction: column;
      align-items: center;
    }

    .demo-slide.active {
      display: flex;
      animation: fadeIn 0.5s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .slide-content {
      display: flex;
      width: 100%;
      margin-bottom: 30px;
    }

    .slide-image {
      flex: 1;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .slide-image img {
      max-width: 100%;
      border-radius: 15px;
      box-shadow: 0 5px 15px var(--shadow-color);
    }

    .slide-text {
      flex: 1;
      padding: 20px;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    .slide-text h2 {
      font-size: 1.8rem;
      color: var(--accent-color);
      margin-bottom: 15px;
    }

    .slide-text p {
      font-size: 1.1rem;
      line-height: 1.6;
    }

    .guide-character {
      position: fixed;
      top: 40%;
      left: 90%;
      transform: translate(-50%, -50%);
      width: 150px;
      height: 150px;
      background-image: url('donglaseado.png');
      background-size: contain;
      background-repeat: no-repeat;
      background-position: center;
      z-index: 10;
      animation: bounce 2s ease-in-out infinite;
    }


    .speech-bubble {
      position: absolute;
      top: -120px; /* sube el globo sobre el personaje */
      left: -260px; /* mueve el globo a la izquierda */
      background-color: white;
      padding: 15px;
      border-radius: 20px;
      box-shadow: 0 5px 15px var(--shadow-color, rgba(0, 0, 0, 0.2));
      max-width: 250px;
      z-index: 11;
    }

    .speech-bubble:after {
      content: '';
      position: absolute;
      bottom: -15px; /* la punta queda abajo del globo */
      right: 0px; /* ajusta la posición de la punta */
      border-width: 15px 15px 0;
      border-style: solid;
      border-color: white transparent transparent transparent;
    }



    .demo-controls {
      display: flex;
      justify-content: space-between;
      margin-top: 20px;
      width: 100%;
    }

    .demo-btn {
      padding: 12px 25px;
      background-color: var(--primary-color);
      color: white;
      border: none;
      border-radius: 10px;
      font-size: 1.1rem;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .demo-btn:hover {
      background-color: var(--accent-color);
      transform: translateY(-3px);
    }

    .demo-btn:disabled {
      background-color: #ccc;
      cursor: not-allowed;
      transform: none;
    }

    .footer {
      background-color: var(--primary-color);
      color: white;
      padding: 15px;
      text-align: center;
      margin-top: auto;
    }
  </style>

  <style>
      /* Personalización de la slide 2 */
      .slide-content-custom {
        display: flex;
        flex-direction: row;
        align-items: center;
        justify-content: space-between;
        width: 100%;
        gap: 30px;
      }
      .slide-image-carousel {
        flex: 1 1 0;
        display: flex;
        justify-content: flex-end;
      }
      .slide-text-center {
        flex: 1.2 1 0;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
      }
      .slide-image-beforeafter {
        flex: 1 1 0;
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        justify-content: center;
        min-width: 350px;
      }
      #carousel-img {
        width: 320px;
        height: 270px;
        object-fit: contain;
        border-radius: 15px;
        box-shadow: 0 5px 15px var(--shadow-color);
        background: none;
        transition: none !important;
      }
      #before-after-container {
        position: relative;
        width: 320px;
        height: 270px;
        border-radius: 15px;
        box-shadow: 0 5px 15px var(--shadow-color);
        overflow: hidden;
        background: #fff;
      }
      .before-img, .after-img {
        position: absolute;
        top: 0; left: 0;
        width: 100%; height: 100%;
        object-fit: contain;
        border-radius: 15px;
        user-select: none;
        pointer-events: none;
      }
      .before-img {
        z-index: 1;
        clip-path: inset(0 50% 0 0); /* Solo la mitad izquierda visible al inicio */
        transition: clip-path 0s;
      }
      .after-img {
        z-index: 2;
        clip-path: inset(0 0 0 50%); /* Solo la mitad derecha visible al inicio */
        transition: clip-path 0s;
      }
      #slider-bar {
        position: absolute;
        top: 0;
        left: 50%;
        width: 0;
        height: 100%;
        z-index: 3;
        cursor: ew-resize;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .slider-handle {
        width: 36px;
        height: 60px;
        background: linear-gradient(135deg, var(--accent-color), var(--primary-color));
        border-radius: 20px;
        border: 3px solid #fff;
        box-shadow: 0 2px 8px #0002;
        display: flex;
        align-items: center;
        justify-content: center;
        position: absolute;
        top: calc(50% - 30px);
        left: -18px;
        font-size: 2rem;
        color: #fff;
        user-select: none;
      }
      .slider-handle span {
        pointer-events: none;
        font-size: 1.5rem;
        font-weight: bold;
      }

      /* Añade esto a tu <style> principal */
      #before-after-map .before-img,
      #before-after-map .after-img {
        position: absolute;
        top: 0; left: 0;
        width: 100%; height: 100%;
        object-fit: contain;
        border-radius: 15px;
        user-select: none;
        pointer-events: none;
      }
      #before-after-map .before-img {
        z-index: 1;
        clip-path: inset(0 50% 0 0);
        transition: clip-path 0s;
      }
      #before-after-map .after-img {
        z-index: 2;
        clip-path: inset(0 0 0 50%);
        transition: clip-path 0s;
      }
      #slider-bar-map {
        position: absolute;
        top: 0;
        left: 50%;
        width: 0;
        height: 100%;
        z-index: 3;
        cursor: ew-resize;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      #slider-bar-map .slider-handle {
        width: 36px;
        height: 60px;
        background: linear-gradient(135deg, var(--accent-color), var(--primary-color));
        border-radius: 20px;
        border: 3px solid #fff;
        box-shadow: 0 2px 8px #0002;
        display: flex;
        align-items: center;
        justify-content: center;
        position: absolute;
        top: calc(50% - 30px);
        left: -18px;
        font-size: 2rem;
        color: #fff;
        user-select: none;
      }
      #slider-bar-map .slider-handle span {
        pointer-events: none;
        font-size: 1.5rem;
        font-weight: bold;
      }

      .slide-content-map {
        display: flex;
        flex-direction: row;
        align-items: center;
        justify-content: center;
        gap: 40px;
      }

      .slide-image-map {
        flex: 0 0 260px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
      }

      #before-after-map {
        position: relative;
        width: 350px;
        height: 280px;
        border-radius: 15px;
        box-shadow: 0 5px 15px var(--shadow-color);
        overflow: hidden;
        background: #fff;
      }
      </style>

      <script>
        // Barra interactiva antes/después con clip-path y handle bonito
        document.addEventListener('DOMContentLoaded', function() {
          const container = document.getElementById('before-after-container');
          const beforeImg = container ? container.querySelector('.before-img') : null;
          const afterImg = container ? container.querySelector('.after-img') : null;
          const sliderBar = document.getElementById('slider-bar');
          let dragging = false;

          function setSlider(percent) {
            percent = Math.max(0, Math.min(percent, 100)); // No dejar la barra en el borde
            sliderBar.style.left = percent + '%';
            beforeImg.style.clipPath = `inset(0 ${(100 - percent)}% 0 0)`;
            afterImg.style.clipPath = `inset(0 0 0 ${percent}%)`;
          }

          if (container && beforeImg && afterImg && sliderBar) {
            const moveHandler = (clientX, rect) => {
              let offsetX = clientX - rect.left;
              let percent = (offsetX / rect.width) * 100;
              setSlider(percent);
            };

            sliderBar.addEventListener('mousedown', function(e) {
              dragging = true;
              document.body.style.userSelect = 'none';
            });

            document.addEventListener('mouseup', function() {
              dragging = false;
              document.body.style.userSelect = '';
            });

            document.addEventListener('mousemove', function(e) {
              if (!dragging) return;
              const rect = container.getBoundingClientRect();
              moveHandler(e.clientX, rect);
            });

            // Soporte para touch
            sliderBar.addEventListener('touchstart', function(e) {
              dragging = true;
              document.body.style.userSelect = 'none';
            });

            document.addEventListener('touchend', function() {
              dragging = false;
              document.body.style.userSelect = '';
            });

            document.addEventListener('touchmove', function(e) {
              if (!dragging) return;
              const touch = e.touches[0];
              const rect = container.getBoundingClientRect();
              moveHandler(touch.clientX, rect);
            });

            // Inicializa al 50%
            setSlider(50);
          }
        });
      </script>

      <script>
      // Barra interactiva antes/después para el mapa
      document.addEventListener('DOMContentLoaded', function() {
        const container = document.getElementById('before-after-map');
        const beforeImg = container ? container.querySelector('.before-img') : null;
        const afterImg = container ? container.querySelector('.after-img') : null;
        const sliderBar = document.getElementById('slider-bar-map');
        let dragging = false;

        function setSlider(percent) {
          percent = Math.max(5, Math.min(percent, 95));
          sliderBar.style.left = percent + '%';
          beforeImg.style.clipPath = `inset(0 ${(100 - percent)}% 0 0)`;
          afterImg.style.clipPath = `inset(0 0 0 ${percent}%)`;
        }

        if (container && beforeImg && afterImg && sliderBar) {
          const moveHandler = (clientX, rect) => {
            let offsetX = clientX - rect.left;
            let percent = (offsetX / rect.width) * 100;
            setSlider(percent);
          };

          sliderBar.addEventListener('mousedown', function(e) {
            dragging = true;
            document.body.style.userSelect = 'none';
          });

          document.addEventListener('mouseup', function() {
            dragging = false;
            document.body.style.userSelect = '';
          });

          document.addEventListener('mousemove', function(e) {
            if (!dragging) return;
            const rect = container.getBoundingClientRect();
            moveHandler(e.clientX, rect);
          });

          // Soporte para touch
          sliderBar.addEventListener('touchstart', function(e) {
            dragging = true;
            document.body.style.userSelect = 'none';
          });

          document.addEventListener('touchend', function() {
            dragging = false;
            document.body.style.userSelect = '';
          });

          document.addEventListener('touchmove', function(e) {
            if (!dragging) return;
            const touch = e.touches[0];
            const rect = container.getBoundingClientRect();
            moveHandler(touch.clientX, rect);
          });

          // Inicializa al 50%
          setSlider(50);
        }
      });
    </script>

      <script>
        // Carrusel solo para la slide 2
        document.addEventListener('DOMContentLoaded', function() {
          const carouselImages = [
            'croiso_outfit1.png',
            'croiso_outfit2.png',
            'croiso_outfit3.png',
            'croiso_outfit4.png',
            'croiso_outfit5.png',
            'croiso_outfit6.png',
            'croisa_outfit1.png',
            'croisa_outfit2.png',
            'croisa_outfit3.png',
            'croisa_outfit4.png',
            'croisa_outfit5.png',
            'croisa_outfit6.png'
          ]; // Añade aquí las rutas de tus imágenes
          let carouselIndex = 0;
          const carouselImg = document.getElementById('carousel-img');
          const slides = document.querySelectorAll('.demo-slide');
          let carouselInterval = null;

          function startCarousel() {
            if (!carouselImg) return;
            carouselInterval = setInterval(() => {
              carouselIndex = (carouselIndex + 1) % carouselImages.length;
              carouselImg.src = carouselImages[carouselIndex]; // Cambio inmediato, sin opacidad ni fondo
            }, 1000);
          }

          function stopCarousel() {
            clearInterval(carouselInterval);
          }

          // Detectar cuando la slide 2 está activa
          function observeSlideChange() {
            const observer = new MutationObserver(() => {
              if (slides[2].classList.contains('active')) {
                startCarousel();
              } else {
                stopCarousel();
                carouselIndex = 0;
                if (carouselImg) carouselImg.src = carouselImages[0];
              }
            });
            observer.observe(slides[2], { attributes: true, attributeFilter: ['class'] });
            // Si la slide 2 ya está activa al cargar
            if (slides[2].classList.contains('active')) startCarousel();
          }

          observeSlideChange();
        });
      </script>

</head>
<body>
  <header class="header">
    <div class="logo-container">
      <div class="logo-img"></div>
      <div class="logo-text">Croissant Adventure</div>
    </div>
    <div>
      <span style="font-weight: bold;">MODO DEMO</span>
    </div>
  </header>

  <div class="demo-container">
    <div class="demo-header">
      <h1>Demostración de Croissant Adventure</h1>
      <p>¡Bienvenido al tour guiado de Croissant Adventure! Te mostraremos todas las funcionalidades de nuestro juego educativo interactivo.</p>
    </div>

    <div class="demo-navigation" id="nav-dots">
      <!-- Puntos de navegación generados por JS -->
    </div>

    <div class="demo-slides" id="slides-container">
      <div class="demo-slide active" data-speech="¡Hola! Soy Don Glaseado y te doy la bienvenida a Croissant Adventure. Acompáñame para descubrir que opinan nuestros primeros clientes">
        <div class="slide-content">
          <div class="slide-video">
            <video src="video-diseno.mp4" controls poster="miniatura-video.png" width="100%"></video>
          </div>
          <div class="slide-text">
            <h2>Bienvenido a Croissant Adventure</h2>
            <p>Que dicen del juego:</p>
            <ul style="margin-top: 10px; margin-left: 20px;">
              <li>Un buen juego para introducir a los niños a la IA</li>
              <li>Los minijuegos son muy divertidos</li>
              <li>La oportunidad de crear historias dentro del juego es fantastica</li>
            </ul>
          </div>
        </div>
      </div>
      
      <!-- Slide 1: Proceso de desarrollo I -->
      <div class="demo-slide" data-speech="Aquí te mostraré cómo creamos Croissant Adventure, comenzando por nuestra fase de diseño.">
        <div class="slide-content">
          <div class="slide-image">
            <img src="desarrollo1.png" alt="Proceso de diseño">
          </div>
          <div class="slide-text">
            <h2>Proceso de Diseño</h2>
            <p>El desarrollo de Croissant Adventure comenzó con un cuidadoso proceso de diseño y planificación:</p>
            <ul style="margin-top: 10px; margin-left: 20px;">
              <li>Bocetos iniciales de los personajes y escenarios</li>
              <li>Retoque artístico para añadir detalles únicos</li>
              <li>Realización de la IA para conseguir el personaje final</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Slide 2: Desarrollo de personajes -->
      <div class="demo-slide" data-speech="Una vez definido el diseño, pasamos a la implementación de los personajes.">
        <div class="slide-content slide-content-custom">
          <!-- Carrusel a la izquierda -->
          <div class="slide-image slide-image-carousel">
            <img id="carousel-img" src="desarrollo1.png" alt="Proceso de diseño">
          </div>
          <!-- Texto en el centro -->
          <div class="slide-text slide-text-center">
            <h2>Corrección con Photoshop</h2>
            <p>Para obtener resultados más limpios de nuestros personajes hicimos lo siguiente:</p>
            <ul style="margin-top: 10px; margin-left: 20px;">
              <li>Obtener diferentes imágenes de outfits con IA a partir del boceto inicial</li>
              <li>Retocar imágenes con Photoshop</li>
              <li>Aplicar dichas modificaciones para cada uno de los outfits</li>
            </ul>
          </div>
          <!-- Antes/Después a la derecha -->
          <div class="slide-image slide-image-beforeafter">
            <div id="before-after-container">
              <img src="croisa_outfit2.png" alt="Antes" class="before-img">
              <img src="croisa_ia.png" alt="Después" class="after-img">
              <div id="slider-bar">
                <div class="slider-handle"><span>⇄</span></div>
              </div>
            </div>
            <div style="text-align: right; font-size: 0.9em; color: #888; margin-top: 5px;">
              <span>Desliza la barra para ver el antes y después</span>
            </div>
          </div>
        </div>
      </div>
      <!-- Slide 3: Proceso de desarrollo II -->
      <div class="demo-slide" data-speech="En esta fase, nos centramos en la implementación técnica y la creación de los minijuegos educativos.">
        <div class="slide-content">
          <div class="slide-text">
            <h2>Implementación Técnica</h2>
            <p>Una vez definido el diseño, pasamos a la fase de implementación:</p>
            <ul style="margin-top: 10px; margin-left: 20px;">
              <li>Desarrollo del motor de juego y sistema de navegación</li>
              <li>Programación de los minijuegos educativos</li>
              <li>Implementación de la lógica del chat inteligente</li>
              <li>Creación del sistema de control parental</li>
            </ul>
            <p style="margin-top: 15px;">Utilizamos tecnologías web modernas para asegurar una experiencia fluida y accesible desde cualquier dispositivo.</p>
          </div>
          <div class="slide-image">
            <iframe 
              width="768" 
              height="432" 
              src="https://miro.com/app/live-embed/uXjVI6c1dS8=/?moveToViewport=50 ,-332,1511,1162&embedId=818411213818" 
              frameborder="0" 
              scrolling="no" 
              allow="fullscreen; clipboard-read; clipboard-write" 
              allowfullscreen>
            </iframe>
          </div>
        </div>
      </div>

      <!-- Slide: Arquitectura Global del Proyecto -->
      <div class="demo-slide" data-speech="Aquí te muestro la arquitectura global de Croissant Adventure, que integra varios sistemas para ofrecer una experiencia completa.">
        <div class="slide-content">
          <div class="slide-text">
            <h2>Arquitectura Global del Proyecto</h2>
            <p>Croissant Adventure se construye sobre una arquitectura modular y escalable:</p>
            <ul style="margin-top: 10px; margin-left: 20px;">
              <li>Frontend: HTML5, CSS3 y JavaScript para la interfaz de usuario</li>
              <li>Backend: Firebase para autenticación y base de datos en tiempo real</li>
              <li>IA: Integración con Hugging Face para procesamiento de lenguaje natural</li>
              <li>Sistema de minijuegos: Motor de juego personalizado</li>
              <li>Almacenamiento: Combinación de localStorage y Firebase Realtime Database</li>
              <li>Seguridad: Control parental y validación de datos</li>
            </ul>
            <p style="margin-top: 15px;">Esta arquitectura permite una experiencia fluida mientras mantiene la seguridad y privacidad de los usuarios.</p>
          </div>
          <div class="slide-image" style="padding: 20px; background-color: white; border-radius: 15px; box-shadow: 0 5px 15px var(--shadow-color);">
            <h3 style="margin-bottom: 15px; color: var(--primary-color);">Estructura del Proyecto</h3>
            <div style="font-family: monospace; font-size: 14px; line-height: 1.4; text-align: left; overflow: auto; max-height: 400px;">
              <pre style="margin: 0;">
CroissantAdventure/
│
├── assets/
│   ├── audio/
│   ├── music/
│   └── sounds/
│
├── css/
│   └── (estilos del juego)
│
├── js/
│   ├── ai/
│   │   ├── chatInterface.js
│   │   └── storytellerAI.js
│   │
│   ├── minigames/
│   │   ├── fishing_new.js
│   │   ├── surfing_new.js
│   │   ├── memory.js
│   │   ├── puzzle.js
│   │   └── (otros minijuegos...)
│   │
│   ├── scenes/
│   │   ├── mainMenu.js
│   │   ├── scene.js
│   │   ├── worldMap.js
│   │   └── worldMap_simple.js
│   │
│   ├── game.js
│   ├── login.js
│   ├── register.js
│   └── parentalControl.js
│
├── minigames/
│   └── (recursos de minijuegos)
│
├── index.html      ← Página principal
├── login.html      ← Sistema de autenticación
├── register.html   ← Registro de usuarios
├── manage.html     ← Control parental
├── juego_nuevo.html ← Nueva partida
└── firebase.json   ← Configuración Firebase
              </pre>
            </div>
          </div>
        </div>
      </div>

      <!-- Slide 3: Proceso de desarrollo III -->
      <div class="demo-slide" data-speech="Descubre cómo funciona el núcleo de inteligencia artificial de Croissant Adventure">
        <div class="slide-content">
          <div class="slide-image">
            <img src="desarrollo3.png" alt="Pruebas con usuarios">
          </div>
          <div class="slide-text">
            <h2>StorytellerAI: Cerebro Narrativo</h2>
            <p>Sistema de IA que combina:</p>
            <ul style="margin-top: 10px; margin-left: 20px;">
              <li>API de Hugging Face con modelo <strong>Mixtral-8x7B</strong></li>
              <li>Análisis de contexto y sentimiento en tiempo real</li>
              <li>Memoria conversacional para seguimiento personalizado</li>
              <li>Generación dinámica de historias y minijuegos</li>
              <li>Mapeo automático de palabras clave → experiencias de juego</li>
              <li>Resiliencia: Respuestas locales si falla la API</li>
            </ul>
            <p style="margin-top: 15px;">Gracias a la IA cada historia es diferente en el mundo de Croissant Adventure.</p>
          </div>
        </div>
      </div>

      <!-- Slide: Gestión del Proyecto con GitHub -->
      <div class="demo-slide" data-speech="Para gestionar el desarrollo de Croissant Adventure, hemos utilizado herramientas colaborativas de GitHub que nos han permitido trabajar de forma eficiente y organizada.">
        <div class="slide-content">
          <div class="slide-text">
            <h2>Gestión del Proyecto</h2>
            <p>Hemos utilizado GitHub Pages y GitHub Projects para gestionar el desarrollo del juego:</p>
            <ul style="margin-top: 10px; margin-left: 20px;">
              <li><strong>GitHub Pages:</strong> Despliegue automático para pruebas y demostraciones</li>
              <li><strong>GitHub Projects:</strong> Tablero Kanban para seguimiento de tareas</li>
              <li><strong>GitHub Actions:</strong> Automatización de despliegue y pruebas</li>
            </ul>
            
            <div style="margin-top: 20px; padding: 15px; background-color: rgba(255, 209, 102, 0.2); border-radius: 10px;">
              <h3 style="color: var(--primary-color); margin-bottom: 10px;">Historial de Releases</h3>
              
              <div style="margin-bottom: 10px;">
                <strong>Release 1:</strong>
                <ul style="margin-left: 20px;">
                  <li>Gorka: IA, Mapa v1, minijuegos, control parental</li>
                  <li>Campdelacreu: Database v1</li>
                  <li>Casillas: Ajuste minijuegos, animaciones</li>
                  <li>Adrian: Login, registro, diseño</li>
                  <li>Anna: Prompting, documentación</li>
                  <li>Victor: Documentación, mejora de juegos, FIGMA</li>
                </ul>
              </div>
              
              <div>
                <strong>Release 2:</strong>
                <ul style="margin-left: 20px;">
                  <li>Gorka: Presentación, mapa v2, mejora diseño login/register, IA v2</li>
                  <li>Campdelacreu: Database v2, cargar/guardar partida</li>
                  <li>Casillas: Animaciones y fix de juegos</li>
                  <li>Adrian: Diseño de outfits, diseño de tarjetas, implementaciones gráficas</li>
                  <li>Anna: trailer, feedback con niños, presentación y triptics</li>
                  <li>Victor: Documentación, mejora de juegos </li>
                </ul>
              </div>
            </div>
          </div>
          <div class="slide-image" style="display: flex; justify-content: center; align-items: center;">
            <div style="width: 90%; overflow: hidden; border-radius: 15px; box-shadow: 0 5px 15px var(--shadow-color);">
              <img src="GITHUB.png" alt="GitHub Projects" style="width: 100%; height: auto; object-fit: contain;">
            </div>
          </div>
        </div>
      </div>

      <!-- Slide 4: Introducción -->
      <div class="demo-slide" data-speech="Y ahora, permíteme presentarte Croissant Adventure, nuestro juego educativo interactivo.">
        <div class="slide-content">
          <div class="slide-image">
            <img src="logotipo.png" alt="Introducción al juego" style="width: 300px; height: auto;">
          </div>
          <div class="slide-text">
            <h2>Bienvenido a Croissant Adventure</h2>
            <p>Croissant Adventure es un juego educativo interactivo para niños que combina diversión y aprendizaje en un mundo mágico lleno de aventuras.</p>
            <p>En esta demostración, te guiaremos a través de las principales funcionalidades del juego:</p>
            <ul style="margin-top: 10px; margin-left: 20px;">
              <li>Mapa interactivo con minijuegos</li>
              <li>Sistemas de chat inteligente</li>
              <li>Control parental avanzado</li>
              <li>Minijuegos educativos temáticos</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Slide 2: El Mapa -->
      <div class="demo-slide" data-speech="Este es nuestro mapa principal. ¡Aquí puedes explorar diferentes regiones y descubrir minijuegos!">
        <div class="slide-content slide-content-map">
          <div class="slide-text">
            <h2>Mapa Interactivo</h2>
            <p>El mapa es el centro de Croissant Adventure. Desde aquí, los jugadores pueden:</p>
            <ul style="margin-top: 10px; margin-left: 20px;">
              <li>Explorar diferentes regiones temáticas</li>
              <li>Descubrir minijuegos educativos</li>
              <li>Interactuar con personajes del juego</li>
              <li>Seguir su progreso en las diferentes áreas</li>
            </ul>
            <p style="margin-top: 15px;">Nuestra región más popular es "Playa Caramelizada", donde se encuentran los minijuegos "Pescador Pastelero" y "Surfista Glaseado".</p>
          </div>
          <div class="slide-image slide-image-map">
            <div id="before-after-map">
              <img src="mapa_antes.png" alt="Mapa antes" class="before-img">
              <img src="mapa_despues.png" alt="Mapa después" class="after-img">
              <div id="slider-bar-map">
                <div class="slider-handle"><span>⇄</span></div>
              </div>
            </div>
            <div style="text-align: right; font-size: 0.9em; color: #888; margin-top: 5px;">
              <span>Desliza la barra para ver el antes y después</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Slide 3: Regiones del Mapa -->
      <div class="demo-slide" data-speech="El mundo de Croissant Adventure está dividido en 9 regiones temáticas, cada una con sus propios minijuegos y desafíos educativos.">
        <div class="slide-content">
          <div class="slide-text">
            <h2>Regiones del Mundo de Croissant</h2>
            <p>El mapa de Croissant Adventure contiene <strong>9 regiones temáticas</strong>, cada una diseñada para estimular diferentes áreas de aprendizaje:</p>
            
            <div id="region-description" style="margin-top: 15px;">
              <h3 style="color: var(--primary-color); margin-bottom: 10px;">Playa Caramelizada</h3>
              <p>Región de playa con minijuegos acuáticos como Pescador Pastelero y Surfista Glaseado. Perfecta para aprender matemáticas y ortografía mientras se disfruta del sol.</p>
            </div>
            
            <div style="margin-top: 15px;">
              <div id="map-carousel-controls" style="display: flex; justify-content: center;">
                <button id="prev-region" class="demo-btn" style="margin-right: 10px;">Anterior</button>
                <span id="region-counter" style="align-self: center; padding: 0 15px;">1/9</span>
                <button id="next-region" class="demo-btn" style="margin-left: 10px;">Siguiente</button>
              </div>
            </div>
          </div>
          <div class="slide-image">
            <div id="map-carousel" style="position: relative; width: 100%; height: 300px; overflow: hidden; border-radius: 15px; box-shadow: 0 5px 15px var(--shadow-color);">
              <!-- Imágenes del carrusel generadas dinámicamente -->
            </div>
          </div>
        </div>
      </div>

      <!-- Script para el carrusel de regiones del mapa -->
      <script>
        document.addEventListener('DOMContentLoaded', function() {
          // Lista de regiones con sus descripciones
          const mapRegions = [
            { 
              name: "Playa Caramelizada", 
              image: "mapa1.png", 
              fallbackImage: "mapa_despues.png",
              description: "Región de playa con minijuegos acuáticos como Pescador Pastelero y Surfista Glaseado. Perfecta para aprender matemáticas y ortografía mientras se disfruta del sol."
            },
            { 
              name: "Bosque de Galletas", 
              image: "mapa2.png", 
              fallbackImage: "mapa_antes.png",
              description: "Un denso bosque donde los árboles son galletas gigantes. Alberga minijuegos de exploración como 'Explorador de Cuevas' que fomentan la curiosidad y resolución de enigmas."
            },
            { 
              name: "Montañas de Merengue", 
              image: "mapa3.png", 
              fallbackImage: "ingame3.jpg",
              description: "Altas montañas cubiertas de merengue donde los niños pueden practicar minijuegos de escalada y orientación espacial como 'Laberinto Mágico'."
            },
            { 
              name: "Valle de Chocolate", 
              image: "mapa4.png", 
              fallbackImage: "ingame1.jpg",
              description: "Un valle atravesado por ríos de chocolate. Aquí se encuentran minijuegos como 'Coleccionista de Monedas' para aprender conceptos de economía."
            },
            { 
              name: "Ciudad Pastelera", 
              image: "mapa5.png", 
              fallbackImage: "ingame2.jpg",
              description: "La metrópolis principal del mundo Croissant, con edificios de pasteles y calles de caramelo. Aquí se encuentran minijuegos como 'Trivia Pastelera' y 'Ajedrez de Croissant'."
            },
            { 
              name: "Islas Flotantes", 
              image: "mapa6.png", 
              fallbackImage: "desarrollo1.png",
              description: "Un archipiélago de islas que flotan en el cielo, conectadas por puentes de caramelo. Alberga minijuegos como 'Plataformas Dulces' que mejoran la coordinación."
            },
            { 
              name: "Desierto Crujiente", 
              image: "mapa7.png", 
              fallbackImage: "desarrollo3.png",
              description: "Un vasto desierto de azúcar con oasis de sirope. Incluye minijuegos como 'Carreras de Pasteles' que enseñan conceptos de velocidad y tiempo."
            },
            { 
              name: "Cavernas Glaseadas", 
              image: "mapa8.png", 
              fallbackImage: "croisa_outfit2.png",
              description: "Red de cavernas de glaseado con cristales de azúcar. Aquí se encuentran minijuegos como 'Memoria Dulce' que desarrollan la concentración."
            },
            { 
              name: "Polo Helado", 
              image: "mapa9.png", 
              fallbackImage: "croiso_outfit3.png",
              description: "Región polar con glaciares de helado. Incluye minijuegos como 'Torre de Defensa' y 'Disparos Matemáticos' que fomentan el pensamiento lógico."
            }
          ];

          // Crear elementos del carrusel
          const carousel = document.getElementById('map-carousel');
          const regionCounter = document.getElementById('region-counter');
          const regionDescription = document.getElementById('region-description');
          let currentIndex = 0;

          // Función para actualizar el carrusel
          function updateMapCarousel() {
            // Limpiar carrusel
            carousel.innerHTML = '';
            
            // Añadir imagen actual
            const img = document.createElement('img');
            img.src = mapRegions[currentIndex].image;
            img.alt = mapRegions[currentIndex].name;
            img.style.width = '100%';
            img.style.height = '100%';
            img.style.objectFit = 'cover';
            // Manejar error de imagen no encontrada
            img.onerror = function() {
              this.src = mapRegions[currentIndex].fallbackImage;
              this.onerror = null;
            };
            carousel.appendChild(img);
            
            // Actualizar contador
            regionCounter.textContent = `${currentIndex + 1}/${mapRegions.length}`;
            
            // Actualizar descripción
            regionDescription.innerHTML = `
              <h3 style="color: var(--primary-color); margin-bottom: 10px;">${mapRegions[currentIndex].name}</h3>
              <p>${mapRegions[currentIndex].description}</p>
            `;
          }
          
          // Botones de navegación
          document.getElementById('prev-region').addEventListener('click', function() {
            currentIndex = (currentIndex - 1 + mapRegions.length) % mapRegions.length;
            updateMapCarousel();
          });
          
          document.getElementById('next-region').addEventListener('click', function() {
            currentIndex = (currentIndex + 1) % mapRegions.length;
            updateMapCarousel();
          });
          
          // Inicializar carrusel
          updateMapCarousel();
        });
      </script>

      <!-- Slide 4: Colección de Minijuegos -->
      <div class="demo-slide" data-speech="¡Croissant Adventure cuenta con 17 minijuegos educativos! Cada uno está diseñado para desarrollar diferentes habilidades mientras los niños se divierten.">
        <div class="slide-content">
          <div class="slide-text">
            <h2>Colección de Minijuegos</h2>
            <p>Croissant Adventure ofrece <strong>17 minijuegos educativos</strong> que cubren diferentes áreas de aprendizaje:</p>
            <ul style="margin-top: 10px; margin-left: 20px;">
              <li>Matemáticas: Operaciones, lógica y resolución de problemas</li>
              <li>Lenguaje: Vocabulario, ortografía y lectura</li>
              <li>Habilidades cognitivas: Memoria, atención y coordinación</li>
              <li>Creatividad: Dibujo, música y expresión artística</li>
            </ul>
            <p style="margin-top: 15px;">Cada minijuego está integrado con Firebase para guardar el progreso y adaptarse al nivel del jugador.</p>
            <div style="margin-top: 15px;">
              <div id="carousel-controls" style="display: flex; justify-content: center;">
                <button id="prev-game" class="demo-btn" style="margin-right: 10px;">Anterior</button>
                <span id="game-counter" style="align-self: center; padding: 0 15px;">1/17</span>
                <button id="next-game" class="demo-btn" style="margin-left: 10px;">Siguiente</button>
              </div>
            </div>
          </div>
          <div class="slide-image">
            <div id="minigames-carousel" style="position: relative; width: 100%; height: 300px; overflow: hidden; border-radius: 15px; box-shadow: 0 5px 15px var(--shadow-color);">
              <!-- Los elementos del carrusel se crean dinámicamente con JavaScript -->
            </div>
            <div id="game-description" style="background: white; border-radius: 10px; padding: 15px; margin-top: 15px; min-height: 80px;">
              <h3 style="color: var(--primary-color); margin-bottom: 10px;">Pescador Pastelero</h3>
              <p>Los niños practican matemáticas básicas mientras pescan pasteles con valores numéricos para resolver ecuaciones.</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Script para el carrusel de minijuegos -->
      <script>
        document.addEventListener('DOMContentLoaded', function() {
          // Lista de minijuegos con sus descripciones
          const minigames = [
            { name: "Pescador Pastelero", image: "minigames/fishing.jpg", description: "Los niños practican matemáticas básicas mientras pescan pasteles con valores numéricos para resolver ecuaciones." },
            { name: "Surfista Glaseado", image: "minigames/surfing.jpg", description: "Juego de ortografía donde los niños surfean olas mientras recogen letras para formar palabras correctas." },
            { name: "Memoria Dulce", image: "minigames/memory.jpg", description: "Juego de memoria que ayuda a desarrollar la concentración y reconocimiento de patrones." },
            { name: "Rompecabezas Glaseado", image: "minigames/puzzle.jpg", description: "Rompecabezas que desarrollan habilidades espaciales y resolución de problemas." },
            { name: "Carreras de Pasteles", image: "minigames/Racing.png", description: "Carreras divertidas que enseñan conceptos de velocidad, distancia y tiempo." },
            { name: "Explorador de Cuevas", image: "minigames/caveExplorer.png", description: "Aventura de exploración que fomenta la curiosidad y resolución de enigmas." },
            { name: "Ajedrez de Croissant", image: "minigames/chess.jpg", description: "Versión temática de ajedrez que desarrolla el pensamiento estratégico." },
            { name: "Coleccionista de Monedas", image: "minigames/coinCollector.jpg", description: "Juego para aprender conceptos básicos de economía y valor." },
            { name: "Laberinto Mágico", image: "minigames/maze.jpg", description: "Laberintos que mejoran la orientación espacial y resolución de problemas." },
            { name: "Pintando Aventuras", image: "minigames/paintGame.jpg", description: "Juego creativo que fomenta la expresión artística y el reconocimiento de colores." },
            { name: "Plataformas Dulces", image: "minigames/platform.jpg", description: "Juego de plataformas que mejora la coordinación y los reflejos." },
            { name: "Ritmo Musical", image: "minigames/rhythm.jpg", description: "Juego musical que desarrolla el sentido del ritmo y la coordinación." },
            { name: "Ruleta Educativa", image: "minigames/roulette.jpg", description: "Ruleta con preguntas de diferentes materias educativas." },
            { name: "Disparos Matemáticos", image: "minigames/shooter.jpg", description: "Juego de disparos donde se resuelven operaciones matemáticas." },
            { name: "Serpiente Numérica", image: "minigames/snake.jpg", description: "Versión educativa del clásico juego de la serpiente con retos matemáticos." },
            { name: "Torre de Defensa", image: "minigames/towerDefense.jpg", description: "Juego de estrategia que fomenta el pensamiento lógico y la planificación." },
            { name: "Trivia Pastelera", image: "minigames/triviaGame.jpg", description: "Juego de preguntas y respuestas sobre diversos temas educativos." }
          ];

          // Crear elementos del carrusel
          const carousel = document.getElementById('minigames-carousel');
          const gameCounter = document.getElementById('game-counter');
          const gameDescription = document.getElementById('game-description');
          let currentIndex = 0;

          // Función para actualizar el carrusel
          function updateCarousel() {
            // Limpiar carrusel
            carousel.innerHTML = '';
            
            // Añadir imagen actual
            const img = document.createElement('img');
            img.src = minigames[currentIndex].image;
            img.alt = minigames[currentIndex].name;
            img.style.width = '100%';
            img.style.height = '100%';
            img.style.objectFit = 'cover';
            carousel.appendChild(img);
            
            // Actualizar contador
            gameCounter.textContent = `${currentIndex + 1}/${minigames.length}`;
            
            // Actualizar descripción
            gameDescription.innerHTML = `
              <h3 style="color: var(--primary-color); margin-bottom: 10px;">${minigames[currentIndex].name}</h3>
              <p>${minigames[currentIndex].description}</p>
            `;
          }
          
          // Botones de navegación
          document.getElementById('prev-game').addEventListener('click', function() {
            currentIndex = (currentIndex - 1 + minigames.length) % minigames.length;
            updateCarousel();
          });
          
          document.getElementById('next-game').addEventListener('click', function() {
            currentIndex = (currentIndex + 1) % minigames.length;
            updateCarousel();
          });
          
          // Inicializar carrusel
          updateCarousel();
        });
      </script>

      <!-- Slide 6: Chat Inteligente -->
      <div class="demo-slide" data-speech="Nuestro chat inteligente ayuda a los niños con preguntas y les brinda asistencia personalizada.">
        <div class="slide-content">
          <div class="slide-text">
            <h2>Chat Inteligente</h2>
            <p>El chat inteligente de Croissant Adventure ofrece:</p>
            <ul style="margin-top: 10px; margin-left: 20px;">
              <li>Asistencia personalizada para cada niño</li>
              <li>Respuestas adaptadas a su edad y nivel educativo</li>
              <li>Ayuda contextual dentro de los minijuegos</li>
              <li>Guía amigable en todo el mundo del juego</li>
            </ul>
            <p style="margin-top: 15px;">El chat está diseñado para ser seguro y educativo, fomentando el aprendizaje mientras los niños juegan.</p>
            <div style="margin-top: 20px;">
              <div style="display: flex; align-items: center;">
                <input type="text" id="demo-chat-input" placeholder="Haz una pregunta..." style="padding: 10px; border-radius: 8px; border: 2px solid var(--primary-color); width: 70%;">
                <button id="demo-chat-send" class="demo-btn" style="margin-left: 10px;">Enviar</button>
              </div>
              <div id="ai-status" style="font-size: 12px; color: #666; margin-top: 5px; height: 15px;"></div>
            </div>
          </div>
          <div class="slide-image">
            <div id="demo-chat-container" style="background: white; border-radius: 15px; padding: 20px; box-shadow: 0 5px 15px var(--shadow-color); height: 300px; overflow-y: auto;">
              <div id="demo-chat-messages">
                <!-- Los mensajes serán agregados dinámicamente aquí -->
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Script para el Chat Inteligente -->
      <script>
        document.addEventListener('DOMContentLoaded', function() {
          // Mini versión de StorytellerAI para la demo
          class DemoStorytellerAI {
            constructor() {
              this.messages = [];
              this.isFetchingResponse = false;
              this.loadingTime = 800; // Tiempo simulado de carga
              
              // Palabras clave para destacar
              this.gameKeywords = {
                'monedas': 'coinCollector',
                'tesoro': 'coinCollector',
                'ruleta': 'roulette',
                'ajedrez': 'chess',
                'laberinto': 'maze',
                'disparar': 'shooter',
                'plataforma': 'platform',
                'memoria': 'memory',
                'serpiente': 'snake',
                'rompecabezas': 'puzzle',
                'música': 'rhythm',
                'torre': 'towerDefense',
                'pintar': 'paintGame',
                'trivia': 'triviaGame',
                'pescador': 'fishing',
                'surfista': 'surfing',
                'matemáticas': 'math',
                'lenguaje': 'language'
              };
              
              // Respuestas predefinidas para la demo
              this.responses = {
                'pescador': 'El minijuego Pescador Pastelero se encuentra en la Playa Caramelizada. ¡Atrapa pasteles con valores numéricos para resolver ecuaciones matemáticas!',
                'surfista': 'En Surfista Glaseado montarás sobre las olas recogiendo letras para formar palabras. Está ubicado en la costa sur de la Playa Caramelizada.',
                'minijuegos': 'Croissant Adventure tiene 17 minijuegos educativos. Están distribuidos por todo el mapa y cada uno enseña habilidades diferentes, desde matemáticas hasta lenguaje y creatividad.',
                'regiones': 'El mundo de Croissant Adventure tiene 9 regiones temáticas: Playa Caramelizada, Bosque de Galletas, Montañas de Merengue, Valle de Chocolate, Ciudad Pastelera, Islas Flotantes, Desierto Crujiente, Cavernas Glaseadas y Polo Helado.',
                'matemáticas': 'Los minijuegos de matemáticas incluyen Pescador Pastelero, Disparos Matemáticos y Serpiente Numérica. ¡Aprenderás operaciones básicas mientras te diviertes!',
                'lenguaje': 'Para practicar lenguaje, prueba los minijuegos de Surfista Glaseado o Trivia Pastelera. Son perfectos para ampliar vocabulario y mejorar ortografía.',
                'croiso': 'Soy Croiso, el guía principal de Croissant Adventure. Mi misión es acompañarte en tu aventura educativa y ayudarte a descubrir todos los secretos de Migalandia.',
                'firebase': 'Usamos Firebase para guardar tu progreso en los minijuegos, gestionar tu perfil y permitirte acceder desde cualquier dispositivo. ¡Así nunca perderás tus avances!'
              };
              
              this.defaultResponse = 'Lo siento, no tengo información sobre eso en esta demostración. En el juego completo podré responderte cualquier pregunta sobre Croissant Adventure y sus minijuegos educativos.';
              
              // Inicializar chat
              this.addMessage('bot', '¡Hola! Soy Croiso. ¿En qué puedo ayudarte hoy?');
            }
            
            // Actualiza el estado mostrado al usuario
            updateStatus(message) {
              const statusElement = document.getElementById('ai-status');
              if (statusElement) {
                statusElement.textContent = message;
              }
            }
            
            // Añade un mensaje al historial de conversación
            addMessage(role, content) {
              this.messages.push({ role, content });
              this.renderMessages();
              return this.messages.length - 1;
            }
            
            // Renderiza los mensajes en el interfaz
            renderMessages() {
              const chatMessages = document.getElementById('demo-chat-messages');
              if (!chatMessages) return;
              
              chatMessages.innerHTML = '';
              
              this.messages.forEach(message => {
                const messageElement = document.createElement('div');
                messageElement.style.display = 'flex';
                messageElement.style.alignItems = 'flex-start';
                messageElement.style.marginBottom = '15px';
                
                if (message.role === 'bot') {
                  // Mensaje del bot (izquierda)
                  const avatar = document.createElement('div');
                  avatar.style.width = '40px';
                  avatar.style.height = '40px';
                  avatar.style.backgroundImage = "url('croiso.png')";
                  avatar.style.backgroundSize = 'contain';
                  avatar.style.backgroundRepeat = 'no-repeat';
                  avatar.style.marginRight = '10px';
                  
                  const bubble = document.createElement('div');
                  bubble.style.background = '#f0f0f0';
                  bubble.style.padding = '10px';
                  bubble.style.borderRadius = '10px';
                  bubble.style.maxWidth = '80%';
                  
                  // Marcar palabras clave
                  let content = message.content;
                  Object.keys(this.gameKeywords).forEach(keyword => {
                    const regex = new RegExp(`\\b${keyword}\\b`, 'gi');
                    content = content.replace(regex, match => `<span style="color: var(--primary-color); font-weight: bold;">${match}</span>`);
                  });
                  
                  bubble.innerHTML = content;
                  
                  messageElement.appendChild(avatar);
                  messageElement.appendChild(bubble);
                } else {
                  // Mensaje del usuario (derecha)
                  messageElement.style.justifyContent = 'flex-end';
                  
                  const bubble = document.createElement('div');
                  bubble.style.background = 'var(--secondary-color)';
                  bubble.style.padding = '10px';
                  bubble.style.borderRadius = '10px';
                  bubble.style.maxWidth = '80%';
                  bubble.textContent = message.content;
                  
                  const avatar = document.createElement('div');
                  avatar.style.width = '40px';
                  avatar.style.height = '40px';
                  avatar.style.backgroundImage = "url('croisa.png')";
                  avatar.style.backgroundSize = 'contain';
                  avatar.style.backgroundRepeat = 'no-repeat';
                  avatar.style.marginLeft = '10px';
                  
                  messageElement.appendChild(bubble);
                  messageElement.appendChild(avatar);
                }
                
                chatMessages.appendChild(messageElement);
              });
              
              // Scroll al final
              const container = document.getElementById('demo-chat-container');
              if (container) {
                container.scrollTop = container.scrollHeight;
              }
            }
            
            // Procesa un mensaje del usuario y genera una respuesta
            async processUserMessage(userInput) {
              if (this.isFetchingResponse) {
                return;
              }
              
              try {
                this.isFetchingResponse = true;
                
                // Añadir mensaje del usuario
                this.addMessage('user', userInput);
                this.updateStatus('Pensando...');
                
                // Simular tiempo de procesamiento
                await new Promise(resolve => setTimeout(resolve, this.loadingTime));
                
                // Buscar palabras clave en la entrada del usuario
                let response = this.defaultResponse;
                const inputLower = userInput.toLowerCase();
                
                // Verificar qué palabras clave están en la entrada
                for (const keyword in this.responses) {
                  if (inputLower.includes(keyword)) {
                    response = this.responses[keyword];
                    break;
                  }
                }
                
                // Si no hay coincidencias específicas pero pregunta sobre minijuegos
                if (response === this.defaultResponse && 
                    (inputLower.includes('juego') || inputLower.includes('jugar'))) {
                  response = this.responses['minijuegos'];
                }
                
                // Añadir la respuesta del bot
                this.addMessage('bot', response);
                this.updateStatus('');
              } catch (error) {
                console.error('Error en el procesamiento del mensaje:', error);
                this.updateStatus('Error al procesar el mensaje');
              } finally {
                this.isFetchingResponse = false;
              }
            }
          }
          
          // Inicializar el sistema de chat para la demo
          const demoAI = new DemoStorytellerAI();
          
          // Configurar los eventos de la interfaz
          const inputElement = document.getElementById('demo-chat-input');
          const sendButton = document.getElementById('demo-chat-send');
          
          // Función para enviar mensaje
          const sendMessage = () => {
            const userInput = inputElement.value.trim();
            if (userInput) {
              demoAI.processUserMessage(userInput);
              inputElement.value = '';
            }
          };
          
          // Evento para el botón de enviar
          sendButton.addEventListener('click', sendMessage);
          
          // Evento para presionar Enter
          inputElement.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
              sendMessage();
            }
          });
        });
      </script>

      <!-- Slide 7: Control Parental -->
      <div class="demo-slide" data-speech="El control parental permite a los padres supervisar y gestionar la experiencia de juego de sus hijos.">
        <div class="slide-content">
          <div class="slide-image">
            <div style="background: white; border-radius: 15px; padding: 20px; box-shadow: 0 5px 15px var(--shadow-color);">
              <h3 style="margin-bottom: 15px; color: var(--primary-color);">Panel de Control Parental</h3>
              
              <div style="margin-bottom: 15px;">
                <label style="display: block; margin-bottom: 5px; font-weight: bold;">Tiempo de juego diario</label>
                <div style="display: flex; align-items: center;">
                  <input type="range" min="0" max="120" value="60" style="flex: 1;">
                  <span style="margin-left: 10px;">60 minutos</span>
                </div>
              </div>
              
              <div style="margin-bottom: 15px;">
                <label style="display: block; margin-bottom: 5px; font-weight: bold;">Áreas educativas prioritarias</label>
                <div style="display: flex; gap: 10px;">
                  <div style="padding: 8px; background: var(--secondary-color); border-radius: 5px;">Matemáticas</div>
                  <div style="padding: 8px; background: #f0f0f0; border-radius: 5px;">Lenguaje</div>
                  <div style="padding: 8px; background: #f0f0f0; border-radius: 5px;">Ciencias</div>
                </div>
              </div>
              
              <div style="margin-bottom: 15px;">
                <label style="display: block; margin-bottom: 5px; font-weight: bold;">Informes de progreso</label>
                <select style="width: 100%; padding: 8px; border-radius: 5px; border: 1px solid #ccc;">
                  <option>Diario</option>
                  <option selected>Semanal</option>
                  <option>Mensual</option>
                </select>
              </div>
              
              <button class="demo-btn" style="width: 100%;" onclick="alert('Esta función estará disponible en la versión completa del juego.')">Guardar configuración</button>
            </div>
          </div>
          <div class="slide-text">
            <h2>Control Parental Avanzado</h2>
            <p>Nuestro sistema de control parental permite a los padres:</p>
            <ul style="margin-top: 10px; margin-left: 20px;">
              <li>Establecer límites de tiempo de juego</li>
              <li>Seleccionar áreas educativas prioritarias</li>
              <li>Recibir informes de progreso periódicos</li>
              <li>Personalizar el contenido según la edad</li>
              <li>Monitorear la actividad del niño</li>
            </ul>
            <p style="margin-top: 15px;">El control parental garantiza una experiencia segura y educativa, adaptada a las necesidades específicas de cada niño.</p>
          </div>
        </div>
      </div>

      <!-- Slide 8: Conclusión -->
      <div class="demo-slide" data-speech="¡Gracias por explorar Croissant Adventure! Esperamos que hayas disfrutado de esta demostración.">
        <div class="slide-content">
          <div class="slide-text" style="text-align: center; width: 100%;">
            <h2>¡Gracias por explorar Croissant Adventure!</h2>
            <p style="margin: 20px 0;">Has visto las principales características de nuestro juego educativo:</p>
            <div style="display: flex; justify-content: space-around; margin: 30px 0;">
              <div style="text-align: center;">
                <div style="width: 80px; height: 80px; background-color: var(--primary-color); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 10px;">
                  <span style="font-size: 2rem; color: white;">🗺️</span>
                </div>
                <p>Mapa Interactivo</p>
              </div>
              <div style="text-align: center;">
                <div style="width: 80px; height: 80px; background-color: var(--primary-color); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 10px;">
                  <span style="font-size: 2rem; color: white;">🎮</span>
                </div>
                <p>Minijuegos Educativos</p>
              </div>
              <div style="text-align: center;">
                <div style="width: 80px; height: 80px; background-color: var(--primary-color); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 10px;">
                  <span style="font-size: 2rem; color: white;">💬</span>
                </div>
                <p>Chat Inteligente</p>
              </div>
              <div style="text-align: center;">
                <div style="width: 80px; height: 80px; background-color: var(--primary-color); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 10px;">
                  <span style="font-size: 2rem; color: white;">👨‍👩‍👧‍👦</span>
                </div>
                <p>Control Parental</p>
              </div>
            </div>
            <p style="margin: 20px 0;">¿Listo para sumergirte en esta dulce aventura?</p>
            
            <div style="margin: 30px auto; max-width: 500px; background-color: #ffd166; padding: 20px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.2); text-align: center;">
              <h3 style="color: #ef476f; margin-bottom: 10px;">¡Prueba el juego ahora!</h3>
              <p style="font-size: 1.2rem; margin-bottom: 15px;">Accede a Croissant Adventure en:</p>
              <a href="http://tinyurl.com/croiso" target="_blank" style="display: block; font-size: 1.5rem; font-weight: bold; color: #5c4a38; text-decoration: none; background: white; padding: 10px; border-radius: 10px; margin: 10px 0;">tinyurl.com/croiso</a>
              <p style="font-size: 0.9rem; margin-top: 10px;">¡Escanea este enlace con tu móvil para jugar!</p>
            </div>
            
            <div style="margin-top: 30px;">
              <button class="demo-btn" style="margin-right: 15px;" onclick="window.location.href='register.html'">Registrarse</button>
              <button class="demo-btn" onclick="window.location.href='index.html'">Volver al inicio</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="demo-controls">
      <button id="prev-btn" class="demo-btn" disabled>Anterior</button>
      <button id="next-btn" class="demo-btn">Siguiente</button>
    </div>
  </div>

  <div class="guide-character" id="guide">
    <div class="speech-bubble" id="speech">
      ¡Hola! Soy Croiso y te guiaré por esta demo de Croissant Adventure. ¡Vamos a comenzar!
    </div>
  </div>

  <footer class="footer">
    <p>&copy; 2025 Croissant Adventure - Modo Demostración</p>
  </footer>

  <!-- Fondo animado con personajes -->
  <script src="js/animated-background.js"></script>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Variables para la navegación
      const slides = document.querySelectorAll('.demo-slide');
      const navDots = document.getElementById('nav-dots');
      const prevBtn = document.getElementById('prev-btn');
      const nextBtn = document.getElementById('next-btn');
      const speechBubble = document.getElementById('speech');
      let currentSlide = 0;

      // Crear puntos de navegación
      slides.forEach((_, index) => {
        const dot = document.createElement('div');
        dot.classList.add('nav-dot');
        if (index === 0) dot.classList.add('active');
        dot.addEventListener('click', () => goToSlide(index));
        navDots.appendChild(dot);
      });

      // Actualizar navegación
      function updateNavigation() {
        // Actualizar botones
        prevBtn.disabled = currentSlide === 0;
        nextBtn.disabled = currentSlide === slides.length - 1;
        
        // Actualizar puntos
        document.querySelectorAll('.nav-dot').forEach((dot, index) => {
          dot.classList.toggle('active', index === currentSlide);
        });
        
        // Actualizar mensaje de Croiso
        const currentSpeech = slides[currentSlide].getAttribute('data-speech');
        if (currentSpeech) {
          speechBubble.textContent = currentSpeech;
        }
      }

      // Ir a una diapositiva específica
      function goToSlide(index) {
        slides.forEach(slide => slide.classList.remove('active'));
        slides[index].classList.add('active');
        currentSlide = index;
        updateNavigation();
      }

      // Eventos de botones
      prevBtn.addEventListener('click', () => {
        if (currentSlide > 0) {
          goToSlide(currentSlide - 1);
        }
      });

      nextBtn.addEventListener('click', () => {
        if (currentSlide < slides.length - 1) {
          goToSlide(currentSlide + 1);
        }
      });

      // Inicializar
      updateNavigation();
    });
  </script>
</body>
</html>
